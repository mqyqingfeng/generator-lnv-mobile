## 针对移动端的前端工作流(12)—可能遇到的问题

### 为啥没有图片压缩

在这套基础库里是没有图片压缩的，这是因为经过实践发现无论是`gulp-imagemin`还是`gulp-imageisux`压缩效果都不好，所以最终取消掉了图片压缩。

如果要使用图片压缩，可以到智图的[官网](http://zhitu.isux.us/)下载客户端，压缩图片。

### 为文件路径配置环境变量导致合并文件失败

在前后端未完全分离的情况下，需要给html页面配上如`$rooturl`的模板变量，这时候使用合并或者内联功能，因为不能获得准确的路径，所以会导致报错。

为了解决这个问题，我们提供了`config.json`文件，

举个例子：

如果配置了如`$rooturl`的模板变量，在`config.json`文件配置如下：

``` json

{
	"rooturl": "{$rooturl}/"
}

```

在执行`gulp build`命令的时候就会根据`config.json`中的配置，在html文件中先去除掉`{$rooturl}/`，再在最后的时候给所有的路径加上`{$rooturl}/`